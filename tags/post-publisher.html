<post-publisher>
  <!--
  Copyright 2015 icasdri

  This file is part of PostMaker.

  PostMaker is free software: you can redistribute it and/or modify
  it under the terms of the GNU Affero General Public License as published by
  the Free Software Foundation, either version 3 of the License, or
  (at your option) any later version.

  PostMaker is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  GNU Affero General Public License for more details.

  You should have received a copy of the GNU Affero General Public License
  along with PostMaker.  If not, see <http://www.gnu.org/licenses/>.
  -->
  <div class="mui-container">
    <h2>Publishing《{ Store.post.title }》...</h2>
    <p><em>Please do not navigate away from this page until publishing is complete!</em></p>
    <!-- TODO: These references will need to change to reference Store.publishing.post eventually -->
    <publisher-wrapper if={ Store.post.existingPrimaryUrl } pub={ Store.post.primaryLoc } pubtype="primary"></publisher-wrapper>
    <publisher-wrapper each={ v in Store.post.secondaryLocs } pub={ v } pubtype="secondary"></publisher-wrapper>
  </div>
</post-publisher>

<publisher-wrapper>
  <div class="mui-panel">
    <h4>{ opts.pub.publisherName }</h4>
    <h5 if={ opts.pubtype == "primary" }>PRIMARY</h5>
    <pm-progressbar value={ progressValue } barcolor={ barcolor }></pm-progressbar>
    <p>{ statusMessage }</p>
  </div>
  <script>
    var self = this;
    self.progressValue = 33;
    self.barcolor = App.COLORS.PRIMARY;
    self.statusMessage = "Status message.";
  </script>
  <style scoped>
    .mui-panel h4, h5 {
      margin-top: 0px;
      display: inline-block;
    }
    .mui-panel h5 {
      float: right;
    }
    .mui-panel p {
      margin-top: 10px;
      margin-bottom: 0px;
    }
  </style>
</publisher-wrapper>
